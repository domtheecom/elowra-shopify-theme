{% assign main_menu = linklists[section.settings.menu] %}

<header class="header" role="banner">
  <div class="header-wrapper">
    <div class="header-left">
      <a href="{{ routes.root_url }}" class="header-logo">
        {% if section.settings.logo %}
          <img src="{{ section.settings.logo | image_url: width: 150 }}" alt="{{ shop.name }}" width="150" height="auto">
        {% else %}
          {{ shop.name }}
        {% endif %}
      </a>
    </div>
    
    <nav class="header-nav" role="navigation">
      {% for link in main_menu.links %}
        <a href="{{ link.url }}" class="header-nav-link" {% if link.active %}aria-current="page"{% endif %}>
          {{ link.title }}
        </a>
      {% endfor %}
    </nav>
    
    <div class="header-right">
      <a href="{{ routes.cart_url }}" class="header-cart">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <path d="M16 10a4 4 0 0 1-8 0"/>
        </svg>
        {% if cart.item_count > 0 %}
          <span class="cart-count">{{ cart.item_count }}</span>
        {% endif %}
      </a>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}